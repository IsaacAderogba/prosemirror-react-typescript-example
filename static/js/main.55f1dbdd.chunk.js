(this["webpackJsonpexample-app"]=this["webpackJsonpexample-app"]||[]).push([[0],{118:function(e,t,n){e.exports=n(246)},246:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(102),a=n(44),c=n(7),l=n(11),p=n(77),s=n(12);function u(){var e=Object(l.a)(["\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  font-size: 1rem;\n  padding: 0.5rem 1rem;\n  text-decoration: none;\n  transition: 0.2s hover;\n  &:hover {\n    text-decoration: underline;\n  }\n  &.frontpage {\n    font-weight: 600;\n  }\n"]);return u=function(){return e},e}function d(){var e=Object(l.a)(["\n  align-items: center;\n  display: flex;\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n  background: #551a8b;\n  box-shadow: 0 0 2px 2px rgba(0,0,0,0.18);\n  padding: 1rem;\n"]);return f=function(){return e},e}function m(e){var t=e.className;return o.a.createElement(h,{className:t},o.a.createElement(v,null,o.a.createElement(b,{to:"/",className:"frontpage"},"Full"),o.a.createElement(b,{to:"/minimal"},"Minimal")))}var h=s.a.div(f()),v=s.a.nav(d()),b=Object(s.a)(a.b)(u());function y(){var e=Object(l.a)(["\n  margin: 40px auto 0 auto;\n  max-width: 680px;\n  padding-bottom: 20px;\n  @media only screen and (max-width: 720px) {\n    margin: 40px 20px 0 20px;\n    padding-bottom: 20px;\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(l.a)(["\n  background: snow;\n  min-height: 100vh;\n"]);return O=function(){return e},e}var E=function(e){var t,n=e.component,o=Object(p.a)(e,["component"]);return r.createElement(c.b,Object.assign({},o,{render:(t=n,function(e){return r.createElement(w,null,r.createElement(m,e),r.createElement(x,null,r.createElement(t,e)))})}))},w=s.a.div(O()),x=s.a.main(y()),g=n(0),j=n(116),C=n(4),k=n(111),M=n(2),_=n(117),N=n(79),R=n(112),D=n(6),P=n(29),V=n.n(P),A=n(113),S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function T(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var B=new M.h({nodes:{doc:{content:"block+"},paragraph:{group:"block",content:"inline*",attrs:{spellcheck:{default:"false"}},parseDOM:[{tag:"p"}],toDOM:function(e){return["p",e.attrs,0]}},underline:{group:"block",content:"inline*",attrs:{spellcheck:{default:"false"}},parseDOM:[{tag:"p"}],toDOM:function(e){return["p",e.attrs,0]}},text:{group:"inline"}}});function U(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof C.c&&e.selection.node.isBlock)return!(!r.parentOffset||!Object(D.f)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;e.selection instanceof C.g&&a.deleteSelection();var c=0==r.depth?void 0:r.node(-1).contentMatchAt(r.indexAfter(-1)).defaultType,l=i&&c?[{type:c}]:void 0,p=Object(D.f)(a.doc,a.mapping.map(r.pos),1,l);if(!l&&!p&&c&&Object(D.f)(a.doc,a.mapping.map(r.pos),1,c&&[{type:c}])&&(l=[{type:c}],p=!0),p&&c){a.split(a.mapping.map(r.pos),1,l);var s=!i&&!r.parentOffset&&r.parent.type!=c,u=r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),M.c.from(c.create()));s&&u&&a.setNodeMarkup(a.mapping.map(r.before()),c)}t(a.scrollIntoView())}return!0}function $(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=r.parent.contentMatchAt(o.indexAfter()).defaultType;if(!i||!i.isTextblock)return!1;var a=i.createAndFill();if(t&&a){var c=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(c,a);l.setSelection(C.g.create(l.doc,c+1)),t(l.scrollIntoView())}return!0}function I(e,t){var n=e.selection,r=n.$from,o=(n.$to,B.nodes.underline.createAndFill()),i=r.end();o&&t&&t(e.tr.insert(i+1,o));return!1}var z,F,J,L=function(){var e=[];return e.push(Object(_.a)()),e.push(Object(N.a)(R.a)),e.push(Object(N.a)({"Ctrl-n":I,"Ctrl-p":$,"Ctrl-s":U})),e},W=function(){function e(){this.portals=new Map}return e.prototype.render=function(e,t){this.portals.set(t,{component:e}),V.a.render(e,t)},e.prototype.remove=function(e){this.portals.delete(e),V.a.unmountComponentAtNode(e)},e}(),G=function(e){function t(t){var n=e.call(this,t)||this;return n.hole=Object(g.createRef)(),n}return T(t,e),t.prototype.componentDidMount=function(){this.hole.current.appendChild(this.props.contentDOM)},t.prototype.render=function(){var e=this.props.attrs;return Object(g.createElement)(q,{ref:this.hole,spellCheck:e.spellcheck})},t}(g.Component),q=A.a.p(J||(z=["\n  text-decoration: underline;\n"],F=["\n  text-decoration: underline;\n"],Object.defineProperty?Object.defineProperty(z,"raw",{value:F}):z.raw=F,J=z)),H=function(){function e(e,t,n,r,o,i){this.attrs=e.attrs,this.node=e,this.view=t,this.getPos=n,this.decorations=r,this.portalProvider=o,this.reactComponent=i,this.ref=Object(g.createRef)(),this.dom=document.createElement("span"),this.contentDOM=document.createElement("span"),this.dom.classList.add("node__dom"),this.contentDOM.classList.add("node__content-dom"),this.renderReactComponent()}return e.prototype.renderReactComponent=function(){this.portalProvider.render(Object(g.createElement)(this.reactComponent,{ref:this.ref,attrs:this.attrs,contentDOM:this.contentDOM}),this.dom)},e.prototype.update=function(e,t){return this.ref&&!this.node.sameMarkup(e)&&(this.attrs=e.attrs,this.renderReactComponent()),this.node=e,this.decorations=t,!0},e.prototype.destroy=function(){this.portalProvider.remove(this.dom)},e.fromComponent=function(t,n){return function(r,o,i,a){return new e(r,o,i,a,n,t)}},e}();!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("#full-editor {\n  border: 1px solid black; }\n  #full-editor > .ProseMirror {\n    min-height: 140px;\n    overflow-wrap: break-word;\n    outline: none;\n    padding: 10px;\n    white-space: pre-wrap; }\n");var K=function(e){function t(t){var n=e.call(this,t)||this;return n.editorState=C.b.create({schema:B,plugins:L()}),n.editorRef=Object(g.createRef)(),n.portalProvider=new W,n}return T(t,e),t.prototype.createEditorView=function(e){var t;null!==e&&(this.editorView=new k.a(e,{nodeViews:(t=this.portalProvider,{underline:H.fromComponent(G,t)}),state:this.editorState}),Object(j.a)(this.editorView))},t.prototype.componentDidMount=function(){this.createEditorView(this.editorRef.current),this.forceUpdate()},t.prototype.componentWillUnmount=function(){this.editorView&&this.editorView.destroy()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return Object(g.createElement)("div",{id:"full-editor",ref:this.editorRef})},t}(g.Component);function Q(){var e=Object(l.a)(["\n"]);return Q=function(){return e},e}function X(e){var t=e.className,n=e.children;return r.createElement(Y,{className:t},r.createElement("header",null,r.createElement("h1",null,r.createElement("a",{href:"https://teemukoivisto.github.io/prosemirror-react-typescript-example/"},"ProseMirror React Typescript Example")),r.createElement("p",null,"Demo application to show how to combine ProseMirror with React"),r.createElement("p",null,r.createElement("a",{href:"https://teemukoivisto.github.io/prosemirror-react-typescript-example/"},"Github repo"))),r.createElement("div",null,r.createElement("ul",null,r.createElement("li",null,r.createElement("b",null,"Ctrl + n"),": New underline paragraph"),r.createElement("li",null,r.createElement("b",null,"Ctrl + p"),": New normal paragraph (not working)"),r.createElement("li",null,r.createElement("b",null,"Ctrl + s"),": Split current block")),n))}var Y=s.a.div(Q());function Z(){var e=Object(l.a)(["\n"]);return Z=function(){return e},e}function ee(e){var t=e.className;return r.createElement(te,{className:t},r.createElement(X,null,r.createElement(K,null)))}var te=s.a.div(Z()),ne=n(49),re=n(5),oe=n(115),ie=n(3),ae=function(e,t){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var ce=new ie.h({nodes:{doc:{content:"block+"},underline:{group:"block",content:"inline*",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},text:{group:"inline"}}});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("#editor {\n  border: 1px solid black; }\n");var le=function(e){function t(t){var n=e.call(this,t)||this;return n.createEditorView=function(e){null!=e&&(n.editorView=new oe.a(e,{state:n.editorState}))},n.editorState=re.a.create({schema:ce}),n.editorRef=Object(ne.createRef)(),n}return function(e,t){function n(){this.constructor=e}ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.createEditorView(this.editorRef.current),this.forceUpdate()},t.prototype.componentWillUnmount=function(){this.editorView&&this.editorView.destroy()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return Object(ne.createElement)("div",{id:"editor",ref:this.editorRef})},t}(ne.Component);function pe(){var e=Object(l.a)(["\n"]);return pe=function(){return e},e}function se(e){var t=e.className;return r.createElement(ue,{className:t},r.createElement(X,null,r.createElement(le,null)))}var ue=s.a.div(pe()),de=function(){return r.createElement(a.a,{basename:"/prosemirror-react-typescript-example"},r.createElement(c.d,null,r.createElement(E,{exact:!0,path:"/",component:ee}),r.createElement(E,{exact:!0,path:"/minimal",component:se}),r.createElement(c.a,{to:"/"})))};Object(i.render)(r.createElement(de,null),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.55f1dbdd.chunk.js.map